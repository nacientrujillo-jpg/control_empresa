{% extends 'control/base.html' %}
{% block title %}Empleados{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1>Empleados</h1>
  <a class="btn btn-primary" href="{% url 'control:empleado_create' %}">Nuevo Empleado</a>
</div>

<table class="table table-striped">
  <thead><tr><th>Foto</th><th>Nombre</th><th>Cargo</th><th>Salario</th><th>Departamento</th><th>Acciones</th></tr></thead>
  <tbody>
  {% for e in empleados %}
    <tr>
      <td>
        {% if e.foto %}
          <img src="{{ e.foto.url }}" alt="foto" style="height:60px;">
        {% else %}
          Sin foto
        {% endif %}
      </td>
      <td>{{ e.nombre }}</td>
      <td>{{ e.cargo }}</td>
      <td>{{ e.salario }}</td>
      <td>{{ e.departamento.nombre }}</td>
      <td>
        <a class="btn btn-sm btn-info" href="{% url 'control:empleado_detail' e.pk %}">Ver</a>
        <a class="btn btn-sm btn-warning" href="{% url 'control:empleado_update' e.pk %}">Editar</a>
        <a class="btn btn-sm btn-danger" href="{% url 'control:empleado_delete' e.pk %}">Eliminar</a>
      </td>
    </tr>
  {% empty %}
    <tr><td colspan="6">No hay empleados.</td></tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
